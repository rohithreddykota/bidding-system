# P2 Database Design, Initial ERD

## Business Problem Overview

## Business Rules

- A `User` is a Facebook user.
- A user can be a seller or a buyer.
- A user can publish multiple ads. The publisher of an ad is the seller.
- A user can bid on multiple ads. The bidder of an ad is the buyer.
- A user can receive multiple alerts on interested bids and the ad whenever state changes.
- A user can have watchlists on multiple Ads.
- A user can give feedbacks after the purchase.
- A user can give mulitple feedbacks on multiple ads.
- A user can have multiple chats with the buyers.
- A seller can block multiple buyers.
- A buyer can report on multiple ads.
- A buyer/seller can raise multiple complaints.
- An Ad can have multiple bids.
- An Ad can have multiple views.
- An Ad can have multiple reports.
- An Ad can have multiple watchlists.
- An Ad must be mapped to exactly one Auction.
- Every Ad has status. Like, Active, Sold, Withdrawn, etc,
- An Ad must have Reserve Price, Buy Now Price (max price).
- Buyers can bid only on Active Ads and the bid price must be between reserve price and buy now price.
- A bid must have a status. Like, Active, Won, Lost, etc.
- The seller must set the auction period at the time of ad posting.
- The seller can also set the auto extension of the auction period if there are no bids on the ad.
- The seller can also set the minimum bid increment. The minimum bid increment is the minimum amount that a buyer can bid on the item.
- The seller can also set the buy now price on the auction. The buy now price is the price at which the seller is willing to sell the item immediately.
- The buynow price is always greater than the reserve price.
- The buyer cannot bid the amount greater than the buynow price.
- If the buyer bids the buy now price, the auction ends immediately.
- An admin can remove the ad if the ad is reported by the buyer and if the admin finds the ad is violating the Facebook policies.

## Initial ERD

![Initial ERD](<P2 Database Design, Initial ERD.png>)
